{"version":3,"sources":["components/Filter.js","components/DeleteButton.js","components/Person.js","components/TablePeople.js","services/persons.js","components/UserMessage.js","App.js","index.js"],"names":["Filter","props","value","startValue","onChange","handleChange","DeleteButton","onClick","deleteClick","text","Person","personID","name","number","deleteNumber","id","TablePeople","toShow","persons","filter","x","toUpperCase","includes","map","baseUrl","methods","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","delete","overwriteNumber","obj","put","UserMessage","userMessage","messageColor","userMessageStyle","borderColor","borderStyle","borderRadius","padding","color","margin","fontSize","background","style","App","useState","setPersons","newPerson","setNewPerson","newNumber","setNewNumber","searchFilter","setSearchFilter","setUserMessage","useEffect","personService","foundId","newPersonObject","updatedPerson","console","log","setTimeout","event","v","target","onSubmit","preventDefault","found","person","window","confirm","concat","catch","error","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8b1a6bd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            <label>filter by: </label>\n            <input value={props.startValue} onChange={props.handleChange} />\n        </div>\n    )\n}\n\nexport default Filter\n","import React from \"react\";\n\nconst DeleteButton = (props) => {\n    return (\n        <button onClick={props.deleteClick} >{props.text}</button>\n    )\n}\n\nexport default DeleteButton","import React from 'react'\nimport DeleteButton from \"./DeleteButton\";\n\nconst Person = (props) => {\n   \n        return (\n            <tr>\n                <td>{props.personID.name}</td>\n                <td>{props.personID.number}</td>\n                <td><DeleteButton deleteNumber={props.personID.id} text=\"delete\" deleteClick={() => props.deleteClick(props.personID.id)} /></td>\n            </tr>\n        )\n   \n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst TablePeople = (props) => {\n    \n    const toShow = props.persons.filter(x => x.name.toUpperCase().includes(props.filter.toUpperCase()))\n    \n    return (\n        <table>\n            <tbody>\n            {toShow.map(x =>\n                <Person personID={x} key={x.name} filter={props.filter} deleteClick={props.deleteClick}/>)}\n            </tbody>\n        </table>\n    )\n}\n\nexport default TablePeople","import React from 'react'\nimport axios from \"axios\";\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll= () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then( response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst overwriteNumber = (id, obj) => {\n    const request = axios.put(`${baseUrl}/${id}`, obj)\n    return request.then(response => response.data)\n}\n\nconst methods = {getAll,\n    create,\n    deletePerson,\n    overwriteNumber}\n\nexport default methods\n","import React from \"react\";\n\nconst UserMessage = ({userMessage}) => {\n    \n    const messageColor = userMessage[1] ? \"red\" : \"green\"\n    \n    const userMessageStyle = {\n        borderColor: messageColor,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        color: messageColor,\n        margin: 10,\n        fontSize: 18,\n        background: \"lightgrey\"\n        \n    }\n    \n    if(userMessage[0] !== null) {\n        return (\n            <div style={userMessageStyle}>\n                {userMessage}\n            </div>\n        )\n    } else {\n        return (\n            <div></div>\n        )\n    }\n}\n\nexport default UserMessage","import React, {useState,useEffect} from \"react\";\nimport './App.css';\nimport Filter from './components/Filter'\nimport TablePeople from './components/TablePeople'\nimport personService from './services/persons'\nimport UserMessage from \"./components/UserMessage\";\n\n\n\n\nfunction App() {\n\n    const [persons, setPersons] = useState([])\n\n    const [newPerson, setNewPerson] = useState('')\n\n    const [newNumber, setNewNumber] = useState('')\n\n    const [searchFilter, setSearchFilter] = useState('')\n    \n    const [userMessage, setUserMessage] = useState([null, null])\n    \n    const deleteClick = (id) => {\n        const name = persons.find(x => x.id === id).name\n        console.log('id number ', id, ' needs to be deleted')\n        if(window.confirm('Are you sure you want to delete the entry?')) {\n            personService\n                .deletePerson(id)\n                .then(response => {\n                    setUserMessage([`Deleted ${name}`, false])\n                    setTimeout(()=> {\n                        setUserMessage([null,null])}, 3000)\n                })\n                .catch(error => {\n                    setUserMessage([`${name} not in database`, true])\n                    setTimeout(() => {\n                        setUserMessage([null,null], 3000)\n                    })\n                })\n        \n            setPersons(persons.filter(x => x.id !== id))\n        }\n    }\n\n    useEffect( () => {\n        personService\n            .getAll()\n            .then(persons => {\n                setPersons(persons)\n                })\n    }, [])\n    \n    const addNewPerson = (event) => {\n        event.preventDefault()\n        let found = false\n        let foundId = 0\n        for (let person of persons) {\n            if (person.name === newPerson) {\n                found = true\n                foundId = person.id\n                console.log(\"true\")\n            }\n        }\n        if (found) {\n            if (window.confirm(`Do you want to overwrite the number for ${newPerson}?`)) overwriteNumber(foundId)\n            \n        } else {\n            const newPersonObject = {name: newPerson, number: newNumber}\n        \n            personService\n                .create(newPersonObject)\n                .then (person => {\n                    setPersons(persons.concat(person))\n                    setUserMessage([`Added ${newPersonObject.name}`, false])\n                    setTimeout(()=> {\n                        setUserMessage([null,null])}, 3000\n                    )\n                    setNewNumber('')\n                    setNewPerson('')\n                })\n                .catch(error => {\n                    setUserMessage([`Could not add person`, true])\n                    console.log(\"error was \", error)\n                })\n        }\n    }\n    \n    const handleChangeName = (event) => {\n        setNewPerson(event.target.value)\n    }\n\n    const handleChangeNumber = (event) => {\n\n        setNewNumber(event.target.value)\n\n        console.log(\"new number\", newNumber)\n    }\n\n    const handleFilterChange = (event) => {\n        var v = event.target.value\n        v = '' ? new RegExp('/[a-z]') : v\n        setSearchFilter(v)\n        \n    }\n    \n    const overwriteNumber = (foundId) => {\n        const newPersonObject = {name: newPerson, number: newNumber }\n        personService.overwriteNumber(foundId, newPersonObject)\n            .then(updatedPerson => {\n                console.log(updatedPerson)\n                setPersons(persons.map(x => {\n                    return x = x.id === foundId ? updatedPerson : x\n                }))\n                setNewNumber('')\n                setNewPerson('')\n                setUserMessage([`Updated ${updatedPerson.name}`, false])\n                setTimeout(()=> {\n                    setUserMessage(null, null)}, 3000\n                )\n            })\n        \n        \n    }\n\n    return (\n        <div>\n            <div>\n                <h1>Phonebook</h1>\n                <UserMessage userMessage={userMessage} />\n                <Filter startValue={searchFilter} handleChange={handleFilterChange}/>\n            </div>\n            <div>\n                <h1>add a new...</h1>\n            </div>\n            <form onSubmit={addNewPerson}>\n                <div>\n                <label>name: </label>\n                <input value = {newPerson} onChange={handleChangeName}/>\n                </div>\n                <div>\n                <label>number: </label>\n                <input value={newNumber} onChange={handleChangeNumber}/>\n                </div>\n                <button>save</button>\n            </form>\n            <div>\n                <h1>Numbers</h1>\n            </div>\n            <div>\n                <TablePeople persons={persons} filter={searchFilter} deleteClick={deleteClick}/>\n            </div>\n        </div>\n\n    )\n}\n\nexport default App;\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}